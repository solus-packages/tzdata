name       : tzdata
version    : 2018d
release    : 5
source     :
    - ftp://ftp.iana.org/tz/releases/tzdata2018d.tar.gz : 5106eddceb5f1ae3a91dbd3960e1b8b11ba0dc08579a31cf0724a7691b10c054
    - ftp://ftp.iana.org/tz/releases/tzcode2018d.tar.gz : 7de44e85baad748d217e3fd60706f599f9aec68bce6356b163f52b0dbd40a8d9
license    : Public-Domain
component  : system.base
summary    : Timezone data files
description: |
    This package contains data files with rules for various timezones around the world.
setup      : |
    tar xf $sources/tzcode${version}.tar.gz
build      : |
    make tzdata.zi
install    : |
    tz="africa antarctica asia australasia backward etcetera europe northamerica pacificnew southamerica systemv"

    zic -y ./yearistype -d $installdir/usr/share/zoneinfo -L /dev/null $tz
    zic -y ./yearistype -d $installdir/usr/share/zoneinfo/posix -L /dev/null $tz
    zic -y ./yearistype -d $installdir/usr/share/zoneinfo/right -L leapseconds $tz
    # Default DST
    zic -y ./yearistype -d $installdir/usr/share/zoneinfo -L /dev/null -p America/New_York $tz

    install -m00644 iso3166.tab zone.tab leapseconds tzdata.zi $installdir/usr/share/zoneinfo
